(this["webpackJsonp2.6"]=this["webpackJsonp2.6"]||[]).push([[0],{14:function(e,n,t){e.exports=t(36)},36:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),c=t.n(u),o=t(2),l=t(3),i=t.n(l),m=function(){return i.a.get("/phonebook").then((function(e){return e.data})).catch((function(e){return console.log(e)}))},h=function(e){return i.a.post("/phonebook",e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},f=function(e,n){return i.a.put("".concat("/phonebook","/").concat(e),n).then((function(e){return e})).catch((function(e){return console.log(e)}))},d=function(e){return i.a.delete("".concat("/phonebook","/").concat(e)).then((function(e){return e})).catch((function(e){return console.log(e)}))},b=function(e){var n=e.persons,t=e.filter,a=e.handleDelete,u=n.map((function(e){if(!t)return r.a.createElement("div",{key:e.id},e.name," ",e.number," ",r.a.createElement("button",{onClick:a(e.id)},"delete"));var n=e.name.toLowerCase(),u=t.toLowerCase();return n.includes(u)?r.a.createElement("div",{key:e.name},e.name," ",e.number," ",r.a.createElement("button",{onClick:a},"delete")):r.a.createElement("div",null)}));return r.a.createElement("div",null,u)},s=function(e){var n=e.handleFilter;return r.a.createElement("div",null,"filter by name: ",r.a.createElement("input",{onChange:n}))},v=function(e){var n=e.handleSubmit,t=e.handleOnNameChange,a=e.handleOnNumberChange,u=e.name,c=e.number;return r.a.createElement("form",{onSubmit:n},r.a.createElement("h2",null,"Add new:"),r.a.createElement("div",null,"name: ",r.a.createElement("input",{onChange:t,value:u})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{onChange:a,value:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},E=function(e){var n=e.handleFilter,t=e.handleOnNameChange,a=e.handleOnNumberChange,u=e.handleSubmit,c=e.persons,o=e.newFilter,l=e.handleDelete,i=e.name,m=e.number;return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(s,{handleFilter:n}),r.a.createElement(v,{handleSubmit:u,handleOnNameChange:t,handleOnNumberChange:a,name:i,number:m}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(b,{persons:c,filter:o,handleDelete:l}))},p=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(""),l=Object(o.a)(c,2),b=l[0],s=l[1],v=Object(a.useState)(""),p=Object(o.a)(v,2),g=p[0],O=p[1],C=Object(a.useState)(""),j=Object(o.a)(C,2),w=j[0],k=j[1],S=Object(a.useState)(""),y=Object(o.a)(S,2),N=y[0],D=(y[1],Object(a.useState)([])),F=Object(o.a)(D,2),J=(F[0],F[1]);Object(a.useEffect)((function(){m().then((function(e){return u(e)})).catch((function(e){return console.log(e)}))}),[]);var L=function(e){return h(e).then((function(e){u(e),s(""),O("")}))},x=function(e,n){if(window.confirm("Do you want to update ".concat(b,"'s number?")))return f(e,n).then((function(e){u(e.data),s(""),O("")}))};return Object(a.useEffect)((function(){N&&i.a.get("https://restcountries.eu/rest/v2/name/".concat(N)).then((function(e){J(e.data)}))}),[N]),r.a.createElement("div",null,r.a.createElement(E,{handleFilter:function(e){return k(e.target.value)},handleOnNameChange:function(e){return s(e.target.value)},handleOnNumberChange:function(e){return O(e.target.value)},handleSubmit:function(e){e.preventDefault();var n,a,r=(n=b,t.every((function(e){return e.name!==n}))),u=(a=g,t.every((function(e){return e.number!==a}))),c={name:b,number:g};if(r)L(c);else{if(r||!u)return alert("".concat(b," is already in the phone book"));var o=t.reduce((function(e,n){return n.name===b&&(e+=n.id),e}),0);x(o,c)}},persons:t,newFilter:w,handleDelete:function(e){return function(){window.confirm("Do you want to delete ".concat(b,"?"))&&d(e).then((function(n){var a=t.filter((function(n){if(n.id!==e)return n}));u(a),s(""),O("")}))}},name:b,number:g}))};c.a.render(r.a.createElement(p,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.f74823b4.chunk.js.map