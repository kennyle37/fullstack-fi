(this["webpackJsonp2.6"]=this["webpackJsonp2.6"]||[]).push([[0],{14:function(e,n,t){e.exports=t(36)},36:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),c=t.n(u),l=t(2),o=t(3),i=t.n(o),m="http://localhost:3001/phonebook",h=function(){return i.a.get(m).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},f=function(e){return i.a.post(m,e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},d=function(e,n){return i.a.put("".concat(m,"/").concat(e),n).then((function(e){return e})).catch((function(e){return console.log(e)}))},b=function(e){return i.a.delete("".concat(m,"/").concat(e)).then((function(e){return e})).catch((function(e){return console.log(e)}))},s=function(e){var n=e.persons,t=e.filter,a=e.handleDelete,u=n.map((function(e){if(!t)return r.a.createElement("div",{key:e.id},e.name," ",e.number," ",r.a.createElement("button",{onClick:a(e.id)},"delete"));var n=e.name.toLowerCase(),u=t.toLowerCase();return n.includes(u)?r.a.createElement("div",{key:e.name},e.name," ",e.number," ",r.a.createElement("button",{onClick:a},"delete")):r.a.createElement("div",null)}));return r.a.createElement("div",null,u)},v=function(e){var n=e.handleFilter;return r.a.createElement("div",null,"filter by name: ",r.a.createElement("input",{onChange:n}))},E=function(e){var n=e.handleSubmit,t=e.handleOnNameChange,a=e.handleOnNumberChange,u=e.name,c=e.number;return r.a.createElement("form",{onSubmit:n},r.a.createElement("h2",null,"Add new:"),r.a.createElement("div",null,"name: ",r.a.createElement("input",{onChange:t,value:u})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{onChange:a,value:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},p=function(e){var n=e.handleFilter,t=e.handleOnNameChange,a=e.handleOnNumberChange,u=e.handleSubmit,c=e.persons,l=e.newFilter,o=e.handleDelete,i=e.name,m=e.number;return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(v,{handleFilter:n}),r.a.createElement(E,{handleSubmit:u,handleOnNameChange:t,handleOnNumberChange:a,name:i,number:m}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(s,{persons:c,filter:l,handleDelete:o}))},g=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(""),o=Object(l.a)(c,2),m=o[0],s=o[1],v=Object(a.useState)(""),E=Object(l.a)(v,2),g=E[0],O=E[1],C=Object(a.useState)(""),j=Object(l.a)(C,2),w=j[0],S=j[1],y=Object(a.useState)(""),k=Object(l.a)(y,2),N=k[0],D=(k[1],Object(a.useState)([])),F=Object(l.a)(D,2),J=(F[0],F[1]);Object(a.useEffect)((function(){h().then((function(e){return u(e)})).catch((function(e){return console.log(e)}))}),[]);var L=function(e){return f(e).then((function(e){u(e),s(""),O("")}))},x=function(e,n){if(window.confirm("Do you want to update ".concat(m,"'s number?")))return d(e,n).then((function(e){u(e.data),s(""),O("")}))};return Object(a.useEffect)((function(){N&&i.a.get("https://restcountries.eu/rest/v2/name/".concat(N)).then((function(e){J(e.data)}))}),[N]),r.a.createElement("div",null,r.a.createElement(p,{handleFilter:function(e){return S(e.target.value)},handleOnNameChange:function(e){return s(e.target.value)},handleOnNumberChange:function(e){return O(e.target.value)},handleSubmit:function(e){e.preventDefault();var n,a,r=(n=m,t.every((function(e){return e.name!==n}))),u=(a=g,t.every((function(e){return e.number!==a}))),c={name:m,number:g};if(r)L(c);else{if(r||!u)return alert("".concat(m," is already in the phone book"));var l=t.reduce((function(e,n){return n.name===m&&(e+=n.id),e}),0);x(l,c)}},persons:t,newFilter:w,handleDelete:function(e){return function(){window.confirm("Do you want to delete ".concat(m,"?"))&&b(e).then((function(n){var a=t.filter((function(n){if(n.id!==e)return n}));u(a),s(""),O("")}))}},name:m,number:g}))};c.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.93ac7030.chunk.js.map